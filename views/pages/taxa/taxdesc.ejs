<%- include('../../partials/header_html'); %>
<% taxidfullname = 'HMT-'+("000" + otid).slice(-3); %>
<% data1 = JSON.parse(data1) %>
<% data2 = JSON.parse(data2) %>
<% data3 = JSON.parse(data3) %>
<% data4 = JSON.parse(data4) %>
<% data5 = JSON.parse(data5) //refseq  %>
<% taxidfullname = ("000" + otid).slice(-3); %>
<% taxidfullnameplus = 'HMT-'+taxidfullname; %>


<style>
#page-block {
  border: 1px solid black;
  padding:auto;
  margin:auto;
  width: 95%;
}
.description-header {
   text-align: center;
   padding:10px;
   margin: 1px;
   background: #f2cb6d;
   font-weight:bold;
   font-size:13px;
}
.description-header2 {
  
   padding:10px;
   margin: 1px;
   background: #fed8b1;
   font-weight:bold;
   font-size:13px;
}
.tbl-title{
	padding: 4px 8px;
	font-weight:bold;
	background: #fffdd0;
}
</style>
<body>
  <div id='wrapper'>		
	    
	    
	<div id='header'>
       <%- include('../../partials/header_img'); %>
    </div>

	
	
	
		<%- include('../../partials/navbar'); %>
	
	<div id='' class='page-content'>
	  <div class='jumbotron' >
	  
	    					
<div class='page-title'>Human Oral Microbiome Taxon Description</div>
<div id='page-block'>
<div id='' class='description-header'><i><%= data1.genus %><%= data1.species %></i></div>
<table border='0'>
<tr>

<td class='tbl-title'>Human Microbial Taxon ID:</td><td><%= taxidfullname %></td>
<td class='tbl-title'>Body Site:</td><td><%= data1.site %></td>
</tr>
<tr>
  <td class='tbl-title'>Status:</td><td><%= data1.status %></td>
  <td class='tbl-title' rowspan='2'>Synonym(s):</td>
  <td rowspan='2'><i><%- data1.synonyms.join('<br>') %></i></td>
</tr>
<tr>
  
  <% if(data1.type_strain[0] == 'None'){ %>
  
    <td class='tbl-title'>Reference Strain:</td>
    <td>None, not yet cultivated
  <% }else{ %>
    <td class='tbl-title'>Strain Information:</td>
    <td><%= data1.type_strain.join('<br>') %>
  <% } %>
  
  <br>Check <a href='http://gcm.wdcm.org/speciesPage.jsp?strain_name=<%= data1.genus %>+<%= data1.species %>' target='_blank'>Global Catalogue of Microorganisms</a>
  </td>
</tr>

<tr>
  <td class='tbl-title'>Classification:</td>
  <td>
	<table>
	  <tr><td>Domain:</td><td><i><%= data3.domain %></i></td></tr>
	  <tr><td>Phylum:</td><td><i><%= data3.phylum %></i></td></tr>
	  <tr><td>Class:</td><td><i><%= data3.klass %></i></td></tr>
	  <tr><td>Order:</td><td><i><%= data3.order %></i></td></tr>
	  <tr><td>Family:</td><td><i><%= data3.family %></i></td></tr>
	  <tr><td>Genus:</td><td><i><%= data1.genus %></i></td></tr>
	  <tr><td>Species:</td><td><i><%= data1.species %></i></td></tr>
	</table>
  </td>
  <td class='tbl-title'>NCBI Taxonomy ID:</td>
  <td><%= data1.NCBI_taxid %> <a href='https://www.ncbi.nlm.nih.gov/Taxonomy/Browser/wwwtax.cgi?mode=Info&id=<%= data1.NCBI_taxid %>' target='_blank'>[Link to NCBI]</a></td>
</tr>


<tr>
<td class='tbl-title' rowspan='3'>16S rRNA Reference Sequences:</td>

<td><b>HOMD RefSeq ID</b>:
<% for( var n in data5){ %>
	<!-- >001A28SC | Bartonella schoenbuchensis | HMT-001 | Strain: A28SC | GB: GQ422708 | Status: Named | Preferred Habitat: Unassigned | Genome: yes -->
	<% refseqid 	= data5[n].refseqid %>
	<% refseqname 	= data5[n].seqname %>
	<% refstrain 	= data5[n].strain %>
	<% refgenbank 	= data5[n].genbank %>
	<% refstatus 	= data5[n].status %>
	<% refsite 		= data5[n].site %>
	<% refflag 		= data5[n].flag %>
	<a href='#' onclick="get_refseq('<%= taxidfullnameplus %>','<%= refseqid %>','<%= data1.genus %>','<%= refseqname %>','<%= refstrain %>','<%= refgenbank %>','<%= refstatus %>','<%= refsite %>','<%= refflag %>')"><%= refseqid %></a>
<% } %>
</td>

<td class='tbl-title'>PubMed Search:</td><td><a href='https://pubmed.ncbi.nlm.nih.gov/?cmd=search&term=%22<%= data1.genus %>%20<%= data1.species %>%22' target='_blank'>[PubMed Link]</a></td></tr>
<tr><td><a href='#'>View in phylogenetic tree</a>-TODO</td>
<td class='tbl-title'>Nucleotide Search:</td><td><a href='https://www.ncbi.nlm.nih.gov/nucleotide?cmd=search&term=%22<%= data1.genus %>+<%= data1.species %>%22+%5Borganism%5D' target='_blank'>[Entrez Nucleotide Link]</a></td></tr>
<tr><td><a href='#'>Download latest 16S rRNA reference gene sequences</a>-TODO</td>
<td class='tbl-title'>Protein Search:</td><td><a href='https://www.ncbi.nlm.nih.gov/protein?cmd=search&term=%22<%= data1.genus %>+<%= data1.species %>%22+%5Borganism%5D' target='_blank'>[Entrez Protein Link]</a></td>
</tr>


<tr>
  <td class='tbl-title'>Abundance:</td><td>TODO</td>
  <td class='tbl-title'>Genome Sequence</td>
  <td>
    <% if(data1.genomes.length > 0){ %>
        <%= data1.genomes.length %> <a href='/genome/genome_table?otid=<%= otid %>'>View Genome</a>
        <br><a href='#'>View taxon in genome tree</a>-TODO
    	<br><a href='#'>View taxon in ribosome protein tree</a>-TODO
   		<br><a href='#'>View taxon in genomic 16S rRNA gene tree</a>-TODO
    <% }else{ %>
        View taxon in genome tree-TODO
    <br>View taxon in ribosome protein tree-TODO
    <br>View taxon in genomic 16S rRNA gene tree-TODO
    <% } %>
  </td>
</tr>


<tr><td class='tbl-title'>Hierarchy Structure:</td><td>TODO</td><td></td><td></td></tr>

</table>
<div id='' class='description-header2'>General Information:</div>
&nbsp;<%- data2.general %>
<div id='' class='description-header2'>Cultivability:</div>
&nbsp;<%- data2.culta %>
<div id='' class='description-header2'>Phenotypic Characteristics:</div>
&nbsp;<%- data2.pheno %>
<div id='' class='description-header2'>Prevalence and Source:</div>
&nbsp;<%- data2.prev %>
<div id='' class='description-header2'>Disease Associations:</div>
&nbsp;<%- data2.disease %>
<div id='' class='description-header2'>References:</div>
&nbsp;
<% if(data4){ %>
<% for (i in data4){ %>
<br>[<b><%= parseInt(i)+1 %></b>]<%= data4[i].authors %> <%= data4[i].title %> <%= data4[i].journal %>

<% } %>
<% } %>

		
</div> <!-- end: page-block -->
</div> <!-- end: jumbo -->
	
    </div> <!-- end: page-content -->
    
    <div id='footer'>
         <%- include('../../partials/footer'); %>
    </div>
       
   
  </div> <!-- end wrapper -->
</body>

</html>

<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="/js/taxonomy.js"></script>
<script type="text/javascript" src="/js/bootstrap.js"></script>

